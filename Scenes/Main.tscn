[gd_scene load_steps=18 format=3 uid="uid://dgmngjxt4gbj2"]

[ext_resource type="Texture2D" uid="uid://5bq6hh8154tm" path="res://Textures/TestFloorPattern.png" id="1_iuw2d"]
[ext_resource type="PackedScene" uid="uid://b0wcp0wtm3xqr" path="res://Scenes/player.tscn" id="1_wosbx"]
[ext_resource type="Script" path="res://Scripts/PlayerMovement.cs" id="3_jynqg"]
[ext_resource type="PackedScene" uid="uid://dskeyj18ele3j" path="res://Objects/SealDoor.tscn" id="3_ois8m"]
[ext_resource type="Script" path="res://Scripts/PressureButton.cs" id="4_mhqm7"]
[ext_resource type="PackedScene" uid="uid://3lktgwswf0xr" path="res://turnstile.tscn" id="6_wi7um"]
[ext_resource type="PackedScene" uid="uid://cul85dkj08pdv" path="res://Objects/Pillar.dae" id="7_wfjl6"]
[ext_resource type="PackedScene" uid="uid://byikyq2sbsji4" path="res://Objects/map.tscn" id="8_a8ng3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_5wb37"]
size = Vector3(60, 1, 60)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_81wem"]
albedo_texture = ExtResource("1_iuw2d")
uv1_triplanar = true
texture_filter = 0

[sub_resource type="BoxMesh" id="BoxMesh_7w57q"]
size = Vector3(60, 1, 60)

[sub_resource type="BoxShape3D" id="BoxShape3D_0kecm"]
size = Vector3(0.7, 0.2, 0.7)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hqbqd"]
albedo_color = Color(1, 0.443137, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_ywuit"]
material = SubResource("StandardMaterial3D_hqbqd")
size = Vector3(0.7, 0.2, 0.7)

[sub_resource type="BoxShape3D" id="BoxShape3D_yru4d"]
size = Vector3(0.7, 0.2, 0.7)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mt23l"]
albedo_color = Color(0.705882, 0.705882, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_c0j8d"]
material = SubResource("StandardMaterial3D_mt23l")
size = Vector3(0.7, 0.2, 0.7)

[node name="Main" type="Node"]

[node name="Ground" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground"]
shape = SubResource("BoxShape3D_5wb37")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00161552, -0.0100346, 0.00286579)
material_override = SubResource("StandardMaterial3D_81wem")
mesh = SubResource("BoxMesh_7w57q")

[node name="Test Light" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.840406, -0.541958, 6.80883e-08, 0.389825, -0.604496, 0.694709, -0.376503, 0.583837, 0.719291, 0.192352, 22.7561, -1.44942)
shadow_enabled = true

[node name="CameraPivot" type="Marker3D" parent="."]

[node name="Player" parent="." instance=ExtResource("1_wosbx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.59929, 0)
script = ExtResource("3_jynqg")
Speed = 6
PersonalGrav = 18.0
MouseSens = 0.003
MaxSpeed = 8.0
AirSpeedDecay = 0.01
AirControlPenalty = 0.03

[node name="MapMockup" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -515)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.981624, 0.0603609, -0.181028, 0.038926, 0.86537, 0.499619, 0.186814, -0.497485, 0.847118, -0.216798, 10.7762, -54.9561)
light_energy = 0.534
sky_mode = 1

[node name="SealA" parent="." instance=ExtResource("3_ois8m")]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -7.30107, 3.33517, 0)

[node name="ButtonA" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.45753, 2.98942)
script = ExtResource("4_mhqm7")
LocksAfterUse = true
PromptAction = "Interact"

[node name="CollisionShape3D" type="CollisionShape3D" parent="ButtonA"]
shape = SubResource("BoxShape3D_0kecm")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ButtonA"]
mesh = SubResource("BoxMesh_ywuit")

[node name="ButtonB" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.137, 1.6293, 3.15661)
script = ExtResource("4_mhqm7")
ObjectName = "ToggleButton"
PromptAction = "Interact"

[node name="CollisionShape3D" type="CollisionShape3D" parent="ButtonB"]
shape = SubResource("BoxShape3D_yru4d")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ButtonB"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.342525, 0)
mesh = SubResource("BoxMesh_c0j8d")

[node name="Turnstile" parent="." instance=ExtResource("6_wi7um")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -41.6106, -2.77192, 0)
TurnSpeed = 5.0
TotalPositions = 8

[node name="Pillar" parent="." instance=ExtResource("7_wfjl6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.6166, 1.0925, 0)

[node name="stat" parent="." instance=ExtResource("8_a8ng3")]
transform = Transform3D(-2.18557e-08, 0, 0.5, 0, 0.5, 0, -0.5, 0, -2.18557e-08, 0, 0, 131.743)

[connection signal="Finished" from="SealA" to="ButtonA" method="Finished"]
[connection signal="ButtonWasPressed" from="ButtonA" to="SealA" method="Activated"]
[connection signal="ButtonWasPressed" from="ButtonB" to="Turnstile" method="ChangeState"]
[connection signal="FinishedChange" from="Turnstile" to="ButtonB" method="Finished"]
